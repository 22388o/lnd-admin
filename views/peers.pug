extends layout4

block headContent
	title My Peers

block breadcrumb
	ol.breadcrumb
		li.breadcrumb-item
			a(href='/') Home
		li.breadcrumb-item My Node
		li.breadcrumb-item.active My Peers
	
block content
	h1.h3 #{listPeers.peers.length.toLocaleString()} 
		if (listPeers.peers.length == 1)
			span Peer
		else
			span Peers

	hr

	if (!getInfo && !listPeers)
		div(class="alert alert-danger") No data available. Check your RPC connection.

	else

		div.table-responsive
			table(class="table table-bordered")
				thead(class="table-head-with-nav")
					tr
						th Node
						th Address
						
						th.text-right Value Transfer (received / sent)
						th.text-right Data Transfer
						
						th.text-center Inbound?
						th.text-right Ping

				tbody(class="monospace")
					each item in listPeers.peers
						tr
							td
								- var card_node_pubkey = item.pub_key;
								include ./includes/node-card.pug

							td #{item.address}

							td.text-right
								if (item.sat_recv == 0 && item.sat_sent == 0)
									span -
								else
									
									span #{parseInt(item.sat_recv).toLocaleString()} sat
									i.fas.fa-sign-in-alt.ml-2

									br

									span #{parseInt(item.sat_sent).toLocaleString()} sat
									i.fas.fa-sign-out-alt.ml-2
							
							
							- var bytesSentData = utils.formatLargeNumber(item.bytes_sent, 1);
							- var bytesRecvData = utils.formatLargeNumber(item.bytes_recv, 1);
							
							td.text-right
								span #{bytesSentData[0]} #{bytesSentData[1].abbreviation}B
								i.fas.fa-arrow-up.ml-2
								
								br

								span #{bytesRecvData[0]} #{bytesRecvData[1].abbreviation}B
								i.fas.fa-arrow-down.ml-2
								

							

							td.text-center.align-middle
								if (item.inbound)
									i(class="fas fa-check text-success")
								else
									i(class="fas fa-times")

							td(class="text-right") #{parseInt(item.ping_time).toLocaleString()}